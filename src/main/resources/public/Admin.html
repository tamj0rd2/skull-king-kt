<html>
<head>
    <link href="/style.css" rel="stylesheet" type="text/css"/>
    <title>Skull King Admin Panel</title>
</head>
<body>
<div class="content">
    <h1>Admin panel</h1>
    <button onclick="startGame()">Start game</button>
    <button onclick="startRound()">Start round</button>
    <button onclick="startTrick()">Start trick</button>
</div>
<script>
    async function startGame() { doGameMasterCommand("StartGame") }
    async function startRound() { doGameMasterCommand("StartNextRound") }
    async function startTrick() { doGameMasterCommand("StartNextTrick") }

    async function doGameMasterCommand(type, data = {}) {
        const res = await fetch("/do-game-master-command", {
            method: "POST",
            body: JSON.stringify({...data, type: `GameMasterCommand$${type}`})
        })
        if (!res.ok) return alert("Error starting game")
        console.log("success")
    }
</script>
</body>
</html>
